<html>
<head>
  <title>Elite:Dangerous Info</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script src="js/jquery.min.js" type="text/javascript"></script>
  <script src="js/jquery.hashchange.js" type="text/javascript"></script>
  <script src="js/jquery.easytabs.js" type="text/javascript"></script>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/dataTables.bootstrap.css" rel="stylesheet">
  <link href="css/mine.css" rel="stylesheet">

  <!-- ==================================================
  Bootstrap core JavaScript
  ================================================== -->
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery.easytabs.js"</script>
  <script src="js/jquery.hashchange.js"</script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.csv.min.js"></script>
  <script src="js/jquery.dataTables.min.js"></script>
  <script src="js/dataTables.bootstrap.js"></script>
  <script src='js/csv_to_html_table.js'></script>

  <style>

  </style>

  <script type="text/javascript">
    $(document).ready( function() {
      $('#tab-container').easytabs(
        {
          animate: false
        }
      );
    });
  </script>

  <script type="text/JavaScript">
    function TimedRefresh( t ) {
      setTimeout("location.reload(true);", t);
    }
  </script>

</head>

<body onload="JavaScript:TimedRefresh(10000);">
</body>

<div id="tab-container" class='tab-container'>
 <ul class='etabs'>
   <li class='tab'><a href="#gameinfo-html">Game Info</a></li>
   <li class='tab'><a href="#bounty-html">Bounty</a></li>
   <li class='tab'><a href="#docking-html">Docking</a></li>
   <li class='tab'><a href="#missions-html">Missions</a></li>
   <li class='tab'><a href="#travel-html">Travel</a></li>
   <li class='tab'><a href="#systems-html">Systems</a></li>
 </ul>

 <script>

 var datTables=[
       {"flag": "gi","file": "data/GameInfo.csv"},
       {"flag": "gi","file": "data/progress.csv"},
       {"flag": "gi","file": "data/LoginHistory.csv"},
       {"flag": "bo","file": "data/bountyhistory.csv"},
       {"flag": "bo","file": "data/bounty.csv"},
       {"flag": "bo","file": "data/ibounty.csv"},
       {"flag": "bo","file": "data/conflictzone.csv"},
       {"flag": "do","file": "data/dockinfo.csv"},
       {"flag": "do","file": "data/dockingreq.csv"},
       {"flag": "do","file": "data/dockinghistory.csv"},
       {"flag": "mi","file": "data/msnaccept.csv"},
       {"flag": "mi","file": "data/msncomplete.csv"},
       {"flag": "mi","file": "data/msnabort.csv"},
       {"flag": "tr","file": "data/jumpinfo.csv"},
       {"flag": "tr","file": "data/currentjump.csv"},
       {"flag": "tr","file": "data/supercruise.csv"},
       {"flag": "sy","file": "data/bodyscan.csv"},
       {"flag": "co","file": "data/BuyCommodity.csv"},
       {"flag": "co","file": "data/SellCommodity.csv"},
       {"flag": "co","file": "data/CargoEjected.csv"}
     ];

     function getTable(item,index) {
        if (item.flag == "co")
        	{
            	var TableName = "\"" + [item.file]+ "\"";
            	return TableName;
            } else {
              //HOWTO Return Nothing, instead of commas.....
            	return null;
            }
    }

    function myFunction() {
      document.getElementById("demo").innerHTML = datTables.map(getTable);
    }

 </script>


 <div class='panel-container'>

   <div id="gameinfo-html">
     <h3>Game Information</h3>
     <div class="container-fluid">
     <div id='table-container'></div>
       <b>Game Info v2</b>
       <div id='gtable-container0'></div>
     </div>

     <script>
        var tCount = "gi", gdata_id;
        var data_back[datTables[tCount,]]];

//TODO BROKE IT!!!!!!!

        for (var gdata_id = 0; gdata_id < data_back.length; gdata_id++) {
          CsvToHtmlTable.init(
            {
              csv_path: datTables[tCount,],
              element: tCount+'table-container'+gdata_id,
              csv_options: {separator: ',', delimiter: '""'}
            }
          );
        };
     </script>
   </div>

   <div id="bounty-html">
    <h3>Bounty Information</h3>
    <div class="container-fluid">
    <div id='btable-container'></div>
      <b>Bounty v2</b>
        <div id='btable-container0'></div>
      <b>Bounty Incurred v2</b>
        <div id='btable-container1'></div>
      <b>Conflict Zones</b>
        <div id='btable-container2'></div>
    </div>

    <script>
      var tCount = "b", bdata_id, datBounty = [
        "data/bounty.csv",
        "data/ibounty.csv",
        // TODO: Add the following to Version two status
        "data/conflictzone.csv",
      ];

    for (var bdata_id = 0; bdata_id < datBounty.length; bdata_id++) {
      CsvToHtmlTable.init(
        {
            csv_path: datBounty[bdata_id],
            element: tCount+'table-container'+bdata_id,
            csv_options: {separator: ',', delimiter: '""'}
        }
      );
    };
    </script>
  </div id>

  <div id="docking-html">
    <h3> Docking Information </h3>
    <div class="container-fluid">
    <div id='dtable-container'></div>
      <b>Docking Info v2</b>
      <div id='dtable-container0'></div>
      <b>Docking Request Status v2</b>
      <div id='dtable-container1'></div>
      <b>Docking History v1(?)</b>
    <div id='dtable-container2'></div>
  </div>

  <script>
    var tCount ="d" ,ddata_id, datDocking = [
      "data/dockinfo.csv",
      "data/dockingreq.csv",
      "data/dockinghistory.csv"
    ];

    for (var ddata_id = 0; ddata_id < datDocking.length; ddata_id++) {
      CsvToHtmlTable.init(
        {
            csv_path: datDocking[ddata_id],
            element: tCount+'table-container'+ddata_id,
            csv_options: {separator: ',', delimiter: '""'}
        }
      );
    };
 </script>
 </div id>

  <div id="missions-html">
    <h3>Mission Information</h3>
    <div class="container-fluid">
    <div id='mtable-container'></div>
      <b>Mission Accepted v2</b>
      <div id='mtable-container0'></div>
      <b>Missions Completed v2</b>
      <div id='mtable-container1'></div>
      <b>Mission Aborted</b>
      <div id='mtable-container2'></div>
    </div>

    <script>
      var tCount ="m", mdata_id, datMission = [
        "data/msnaccept.csv",
        "data/msncomplete.csv",
        "data/msnabort.csv"
      ];

      for (var mdata_id = 0; mdata_id < datMission.length; mdata_id++) {
        CsvToHtmlTable.init(
          {
              csv_path: datMission[mdata_id],
              element: tCount+'table-container'+mdata_id,
              csv_options: {separator: ',', delimiter: '""'}
          }
        );
      };

    </script>
  </div id>

    <div id="travel-html">
      <h3>Travel Information</h3>
      <div class="container-fluid">
      <div id='table-container'></div>
        <b>Jump History v2</b>
        <div id='trtable-container0'></div>
        <b>Current Jump v2</b>
        <div id='trtable-container1'></div>
        <b>SuperCruise v2</b>
        <div id='trtable-container2'></div>
      </div>

      <script>
        var tCount = "tr", trdata_id, datTravel = [
          "data/jumpinfo.csv",
          "data/currentjump.csv",
          "data/supercruise.csv",
        ];

        for (var trdata_id = 0; trdata_id < datTravel.length; trdata_id++) {
          CsvToHtmlTable.init(
            {
                csv_path: datTravel[trdata_id],
                element: tCount+'table-container'+trdata_id,
                csv_options: {separator: ',', delimiter: '""'}
            }
          );
        };
    </script>
  </div id>

  <div id="systems-html">
      <h3>Systems Information</h3>
      <div class="container-fluid">
      <div id='table-container'></div>
        <b>Bodyscan v2</b>
        <div id='bdtable-container0'></div>
      </div>

      <script>
        var tCount="bd", bddata_id, datBody = [
          "data/bodyscan.csv"
        ];

        for (var bddata_id = 0; bddata_id < datBody.length; bddata_id++) {
          CsvToHtmlTable.init(
            {
                csv_path: datBody[bddata_id],
                element: tCount+'table-container'+bddata_id,
                csv_options: {separator: ',', delimiter: '""'}
            }
          );
        };
      </script>
    </div id>
</div>

</html>
